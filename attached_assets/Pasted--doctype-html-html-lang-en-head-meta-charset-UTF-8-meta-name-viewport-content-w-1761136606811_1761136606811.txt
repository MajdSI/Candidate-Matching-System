<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HR Talent Matching Wizard</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
        body {
            box-sizing: border-box;
        }
        
        .pulse-animation {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: .5;
            }
        }
        
        .slide-up {
            animation: slideUp 0.6s ease-out forwards;
        }
        
        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .match-card {
            transition: all 0.3s ease;
        }
        
        .match-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        
        .skill-tag {
            transition: all 0.2s ease;
        }
        
        .skill-tag:hover {
            transform: scale(1.05);
        }
        
        .loading-dots {
            animation: loadingDots 1.5s infinite;
        }
        
        @keyframes loadingDots {
            0%, 20% { opacity: 0; }
            50% { opacity: 1; }
            80%, 100% { opacity: 0; }
        }
        
        .loading-dots:nth-child(2) { animation-delay: 0.3s; }
        .loading-dots:nth-child(3) { animation-delay: 0.6s; }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="min-h-full" style="background: linear-gradient(135deg, #D0D0D0 0%, #25C7BC 50%, #9D67AA 100%);">
  <div class="min-h-full p-6">
   <header class="text-center mb-8">
    <h1 id="main-title" class="text-4xl font-bold text-gray-800 mb-2">HR Talent Matching Wizard</h1>
    <p id="subtitle" class="text-lg text-gray-600">Find the perfect candidates for your job openings</p>
   </header>
   <main class="max-w-6xl mx-auto"><!-- Job Description Input Section -->
    <section id="input-section" class="bg-white rounded-xl shadow-lg p-8 mb-8">
     <div class="max-w-2xl mx-auto"><label for="job-description" class="block text-lg font-semibold text-gray-700 mb-4"> Job Description </label> <textarea id="job-description" placeholder="Paste your job description here... Include required skills, experience level, responsibilities, and any specific requirements." class="w-full h-40 p-4 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 resize-none"></textarea> <button id="analyze-btn" class="w-full mt-6 text-white font-semibold py-4 px-8 rounded-lg transform hover:scale-105 transition-all duration-200 shadow-lg" style="background: linear-gradient(135deg, #25C7BC, #9D67AA); hover:opacity: 0.9;"> <span id="analyze-button-text">Analyze &amp; Find Matches</span> </button>
     </div>
    </section><!-- Loading Animation -->
    <section id="loading-section" class="hidden bg-white rounded-xl shadow-lg p-12 mb-8">
     <div class="text-center">
      <div class="inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-6">
       <div class="w-8 h-8 border-4 border-t-transparent rounded-full animate-spin" style="border-color: #25C7BC; border-top-color: transparent;"></div>
      </div>
      <h3 id="loading-message" class="text-xl font-semibold text-gray-700 mb-4">Analyzing job requirements</h3>
      <div class="flex justify-center space-x-1 mb-6">
       <div class="w-2 h-2 rounded-full loading-dots" style="background-color: #25C7BC;"></div>
       <div class="w-2 h-2 rounded-full loading-dots" style="background-color: #25C7BC;"></div>
       <div class="w-2 h-2 rounded-full loading-dots" style="background-color: #25C7BC;"></div>
      </div>
      <div class="max-w-md mx-auto">
       <div class="bg-gray-200 rounded-full h-2 mb-2">
        <div id="progress-bar" class="h-2 rounded-full transition-all duration-300" style="width: 0%; background: linear-gradient(135deg, #25C7BC, #9D67AA);"></div>
       </div>
       <p id="progress-text" class="text-sm text-gray-500">Initializing analysis...</p>
      </div>
     </div>
    </section><!-- Results Dashboard -->
    <section id="results-section" class="hidden">
     <div class="bg-white rounded-xl shadow-lg p-8 mb-8">
      <div class="flex items-center justify-between mb-6">
       <h2 id="results-title" class="text-2xl font-bold text-gray-800">Top Matching Candidates</h2>
       <div class="flex items-center space-x-4"><span class="text-sm text-gray-500">Sorted by match score</span> <button id="new-search-btn" class="bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors duration-200"> New Search </button>
       </div>
      </div>
      <div id="candidates-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"><!-- Candidate cards will be inserted here -->
      </div>
     </div>
    </section>
   </main>
  </div>
  <script>
        // Sample candidate data with CV information
        const candidatePool = [
            {
                name: "Sarah Chen",
                title: "Senior Software Engineer",
                experience: "5 years",
                location: "San Francisco, CA",
                skills: ["JavaScript", "React", "Node.js", "Python", "AWS"],
                matchScore: 95,
                avatar: "SC",
                summary: "Full-stack developer with expertise in modern web technologies and cloud platforms.",
                cv: {
                    email: "sarah.chen@email.com",
                    phone: "+1 (555) 123-4567",
                    education: [
                        { degree: "M.S. Computer Science", school: "Stanford University", year: "2019" },
                        { degree: "B.S. Software Engineering", school: "UC Berkeley", year: "2017" }
                    ],
                    experience: [
                        {
                            title: "Senior Software Engineer",
                            company: "TechCorp Inc.",
                            period: "2021 - Present",
                            description: "Lead development of microservices architecture serving 10M+ users. Built scalable React applications and Node.js APIs."
                        },
                        {
                            title: "Software Engineer",
                            company: "StartupXYZ",
                            period: "2019 - 2021",
                            description: "Developed full-stack web applications using React, Node.js, and AWS. Improved application performance by 40%."
                        }
                    ],
                    projects: [
                        "E-commerce Platform - React/Node.js application with 50K+ active users",
                        "Real-time Analytics Dashboard - Built with D3.js and WebSocket integration"
                    ]
                }
            },
            {
                name: "Marcus Johnson",
                title: "DevOps Engineer",
                experience: "4 years",
                location: "Austin, TX",
                skills: ["Docker", "Kubernetes", "AWS", "Python", "Jenkins"],
                matchScore: 88,
                avatar: "MJ",
                summary: "DevOps specialist focused on automation and scalable infrastructure solutions.",
                cv: {
                    email: "marcus.johnson@email.com",
                    phone: "+1 (555) 234-5678",
                    education: [
                        { degree: "B.S. Computer Science", school: "University of Texas", year: "2020" }
                    ],
                    experience: [
                        {
                            title: "DevOps Engineer",
                            company: "CloudTech Solutions",
                            period: "2020 - Present",
                            description: "Managed Kubernetes clusters and CI/CD pipelines. Reduced deployment time by 60% through automation."
                        }
                    ],
                    projects: [
                        "Automated CI/CD Pipeline - Jenkins, Docker, and AWS integration",
                        "Infrastructure as Code - Terraform and Ansible implementation"
                    ]
                }
            },
            {
                name: "Elena Rodriguez",
                title: "Frontend Developer",
                experience: "3 years",
                location: "Remote",
                skills: ["React", "TypeScript", "CSS", "Figma", "Jest"],
                matchScore: 82,
                avatar: "ER",
                summary: "Creative frontend developer with strong design sensibilities and testing expertise.",
                cv: {
                    email: "elena.rodriguez@email.com",
                    phone: "+1 (555) 345-6789",
                    education: [
                        { degree: "B.A. Digital Design", school: "Art Institute", year: "2021" }
                    ],
                    experience: [
                        {
                            title: "Frontend Developer",
                            company: "Design Studio Pro",
                            period: "2021 - Present",
                            description: "Created responsive web applications with React and TypeScript. Collaborated with UX team on user interface design."
                        }
                    ],
                    projects: [
                        "Portfolio Website Builder - React-based drag-and-drop interface",
                        "Mobile-First E-commerce Site - Responsive design with 98% mobile score"
                    ]
                }
            },
            {
                name: "David Kim",
                title: "Data Scientist",
                experience: "6 years",
                location: "Seattle, WA",
                skills: ["Python", "Machine Learning", "SQL", "TensorFlow", "R"],
                matchScore: 79,
                avatar: "DK",
                summary: "Data scientist specializing in machine learning and predictive analytics.",
                cv: {
                    email: "david.kim@email.com",
                    phone: "+1 (555) 456-7890",
                    education: [
                        { degree: "Ph.D. Data Science", school: "University of Washington", year: "2018" },
                        { degree: "M.S. Statistics", school: "MIT", year: "2016" }
                    ],
                    experience: [
                        {
                            title: "Senior Data Scientist",
                            company: "DataCorp Analytics",
                            period: "2018 - Present",
                            description: "Built machine learning models for predictive analytics. Improved model accuracy by 25% using advanced algorithms."
                        }
                    ],
                    projects: [
                        "Customer Churn Prediction Model - 92% accuracy using ensemble methods",
                        "Real-time Recommendation Engine - TensorFlow-based collaborative filtering"
                    ]
                }
            },
            {
                name: "Amanda Foster",
                title: "Product Manager",
                experience: "7 years",
                location: "New York, NY",
                skills: ["Agile", "Scrum", "Analytics", "Strategy", "Leadership"],
                matchScore: 75,
                avatar: "AF",
                summary: "Experienced product manager with a track record of successful product launches.",
                cv: {
                    email: "amanda.foster@email.com",
                    phone: "+1 (555) 567-8901",
                    education: [
                        { degree: "MBA", school: "Harvard Business School", year: "2017" },
                        { degree: "B.S. Engineering", school: "Columbia University", year: "2015" }
                    ],
                    experience: [
                        {
                            title: "Senior Product Manager",
                            company: "InnovateTech",
                            period: "2017 - Present",
                            description: "Led product strategy for mobile applications with 5M+ downloads. Managed cross-functional teams of 15+ members."
                        }
                    ],
                    projects: [
                        "Mobile App Launch - Achieved 1M downloads in first 6 months",
                        "Product Roadmap Strategy - Increased user retention by 35%"
                    ]
                }
            },
            {
                name: "James Wilson",
                title: "Backend Developer",
                experience: "4 years",
                location: "Chicago, IL",
                skills: ["Java", "Spring", "PostgreSQL", "Redis", "Microservices"],
                matchScore: 71,
                avatar: "JW",
                summary: "Backend developer experienced in building scalable enterprise applications.",
                cv: {
                    email: "james.wilson@email.com",
                    phone: "+1 (555) 678-9012",
                    education: [
                        { degree: "B.S. Computer Science", school: "University of Illinois", year: "2020" }
                    ],
                    experience: [
                        {
                            title: "Backend Developer",
                            company: "Enterprise Solutions Inc.",
                            period: "2020 - Present",
                            description: "Developed RESTful APIs and microservices using Java Spring. Optimized database queries reducing response time by 50%."
                        }
                    ],
                    projects: [
                        "Microservices Architecture - Java Spring Boot with Redis caching",
                        "API Gateway Implementation - Handled 100K+ requests per minute"
                    ]
                }
            }
        ];

        // Configuration object for editable features
        const defaultConfig = {
            main_title: "HR Talent Matching Wizard",
            subtitle: "Find the perfect candidates for your job openings",
            analyze_button_text: "Analyze & Find Matches",
            loading_message: "Analyzing job requirements",
            results_title: "Top Matching Candidates"
        };

        let config = { ...defaultConfig };

        // DOM elements
        const inputSection = document.getElementById('input-section');
        const loadingSection = document.getElementById('loading-section');
        const resultsSection = document.getElementById('results-section');
        const analyzeBtn = document.getElementById('analyze-btn');
        const newSearchBtn = document.getElementById('new-search-btn');
        const jobDescription = document.getElementById('job-description');
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');
        const candidatesGrid = document.getElementById('candidates-grid');

        // Render function for editable features
        async function render(config) {
            document.getElementById('main-title').textContent = config.main_title || defaultConfig.main_title;
            document.getElementById('subtitle').textContent = config.subtitle || defaultConfig.subtitle;
            document.getElementById('analyze-button-text').textContent = config.analyze_button_text || defaultConfig.analyze_button_text;
            document.getElementById('loading-message').textContent = config.loading_message || defaultConfig.loading_message;
            document.getElementById('results-title').textContent = config.results_title || defaultConfig.results_title;
        }

        // Initialize Element SDK
        if (window.elementSdk) {
            window.elementSdk.init({
                defaultConfig,
                render,
                mapToCapabilities: (config) => ({
                    recolorables: [],
                    borderables: [],
                    fontEditable: undefined,
                    fontSizeable: undefined
                }),
                mapToEditPanelValues: (config) => new Map([
                    ["main_title", config.main_title || defaultConfig.main_title],
                    ["subtitle", config.subtitle || defaultConfig.subtitle],
                    ["analyze_button_text", config.analyze_button_text || defaultConfig.analyze_button_text],
                    ["loading_message", config.loading_message || defaultConfig.loading_message],
                    ["results_title", config.results_title || defaultConfig.results_title]
                ])
            });
            config = window.elementSdk.config;
        }

        // Simulate analysis with progress updates
        async function simulateAnalysis() {
            const steps = [
                { progress: 20, text: "Parsing job requirements..." },
                { progress: 40, text: "Extracting key skills..." },
                { progress: 60, text: "Matching candidate profiles..." },
                { progress: 80, text: "Calculating compatibility scores..." },
                { progress: 100, text: "Finalizing results..." }
            ];

            for (const step of steps) {
                await new Promise(resolve => setTimeout(resolve, 800));
                progressBar.style.width = `${step.progress}%`;
                progressText.textContent = step.text;
            }
        }

        // Create candidate card HTML
        function createCandidateCard(candidate) {
            const skillTags = candidate.skills.map(skill => 
                `<span class="skill-tag inline-block text-xs px-2 py-1 rounded-full" style="background-color: rgba(37, 199, 188, 0.1); color: #25C7BC;">${skill}</span>`
            ).join(' ');

            const matchColor = candidate.matchScore >= 90 ? '#25C7BC' : 
                              candidate.matchScore >= 80 ? '#9D67AA' : '#D0D0D0';

            return `
                <div class="match-card bg-white border border-gray-200 rounded-xl p-6 shadow-sm">
                    <div class="flex items-start justify-between mb-4">
                        <div class="flex items-center space-x-3">
                            <div class="w-12 h-12 rounded-full flex items-center justify-center text-white font-semibold" style="background: linear-gradient(135deg, #25C7BC, #9D67AA);">
                                ${candidate.avatar}
                            </div>
                            <div>
                                <h3 class="font-semibold text-gray-900">${candidate.name}</h3>
                                <p class="text-sm text-gray-600">${candidate.title}</p>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="text-2xl font-bold" style="color: ${matchColor};">${candidate.matchScore}%</div>
                            <div class="text-xs text-gray-500">Match</div>
                        </div>
                    </div>
                    
                    <p class="text-sm text-gray-600 mb-4">${candidate.summary}</p>
                    
                    <div class="mb-4">
                        <div class="flex items-center text-sm text-gray-500 mb-2">
                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                            </svg>
                            ${candidate.location}
                        </div>
                        <div class="flex items-center text-sm text-gray-500">
                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            ${candidate.experience} experience
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <div class="text-xs text-gray-500 mb-2">Key Skills</div>
                        <div class="flex flex-wrap gap-1">
                            ${skillTags}
                        </div>
                    </div>
                    
                    <button class="w-full text-white text-sm py-2 px-4 rounded-lg transition-all duration-200 view-cv-btn hover:opacity-90" style="background: linear-gradient(135deg, #25C7BC, #9D67AA);" data-candidate-name="${candidate.name}">
                        View CV
                    </button>
                </div>
            `;
        }

        // Display results
        function displayResults() {
            // Sort candidates by match score
            const sortedCandidates = [...candidatePool].sort((a, b) => b.matchScore - a.matchScore);
            
            candidatesGrid.innerHTML = sortedCandidates.map(createCandidateCard).join('');
            
            // Add slide-up animation
            resultsSection.classList.remove('hidden');
            resultsSection.classList.add('slide-up');
        }

        // CV viewer functionality
        function openCV(candidateName) {
            // Create a sample CV document URL (in a real application, this would be the actual CV URL)
            const cvUrl = `https://docs.google.com/document/d/1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms/edit?usp=sharing`;
            
            // Open CV in a new tab
            window.open(cvUrl, '_blank', 'noopener,noreferrer');
        }

        // Event listeners
        analyzeBtn.addEventListener('click', async () => {
            const description = jobDescription.value.trim();
            
            if (!description) {
                // Show inline message instead of alert
                const errorMsg = document.createElement('div');
                errorMsg.className = 'mt-2 p-3 bg-red-100 border border-red-300 text-red-700 rounded-lg text-sm';
                errorMsg.textContent = 'Please enter a job description to analyze.';
                jobDescription.parentNode.appendChild(errorMsg);
                
                setTimeout(() => errorMsg.remove(), 3000);
                return;
            }

            // Hide input section and show loading
            inputSection.style.display = 'none';
            resultsSection.classList.add('hidden');
            loadingSection.classList.remove('hidden');

            // Reset progress
            progressBar.style.width = '0%';
            progressText.textContent = 'Initializing analysis...';

            // Simulate analysis
            await simulateAnalysis();

            // Hide loading and show results
            loadingSection.classList.add('hidden');
            displayResults();
        });

        newSearchBtn.addEventListener('click', () => {
            // Reset to input section
            inputSection.style.display = 'block';
            resultsSection.classList.add('hidden');
            loadingSection.classList.add('hidden');
            jobDescription.value = '';
            jobDescription.focus();
        });

        // Add event listener for CV buttons (using event delegation)
        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('view-cv-btn')) {
                const candidateName = e.target.getAttribute('data-candidate-name');
                openCV(candidateName);
            }
        });

        // Initial render
        render(config);
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99290277051d789b',t:'MTc2MTEzNjI2NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>